# Git Workflow & Development Guide

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä Git Flow](#–æ–±–∑–æ—Ä-git-flow)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ—Ç–æ–∫](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–≤–µ—Ç–æ–∫)
- [Naming Conventions](#naming-conventions)
- [Commit Guidelines](#commit-guidelines)
- [Pull Request –ø—Ä–æ—Ü–µ—Å—Å](#pull-request-–ø—Ä–æ—Ü–µ—Å—Å)
- [Code Review](#code-review)
- [CI/CD Pipeline](#cicd-pipeline)
- [Hotfix Workflow](#hotfix-workflow)

---

## üå≥ –û–±–∑–æ—Ä Git Flow

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≤–µ—Ç–æ–∫** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:

```
feature/task-name ‚Üí dev ‚Üí main ‚Üí prod
     ‚Üì               ‚Üì      ‚Üì      ‚Üì
  –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞    –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  Staging  Production
```

### –§–∏–ª–æ—Å–æ—Ñ–∏—è

- **dev** ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –¥–æ–ø—É—Å—Ç–∏–º—ã –æ—à–∏–±–∫–∏
- **main** ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è, –≥–æ—Ç–æ–≤–∞—è –∫ staging
- **prod** ‚Äî production-–≤–µ—Ä—Å–∏—è, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

---

## üåø –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ—Ç–æ–∫

### 1. Development Branch (`dev`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ü—Ä–∞–≤–∏–ª–∞**:
- ‚úÖ –ü—Ä—è–º—ã–µ –∫–æ–º–º–∏—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã (–¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ñ–∏–∫—Å–æ–≤)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã (CI runs on push)
- ‚úÖ Force push —Ä–∞–∑—Ä–µ—à—ë–Ω (—Ç–æ–ª—å–∫–æ –¥–ª—è maintainers)
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–æ–¥

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ñ–∏–∫—Å –±–µ–∑ PR
git checkout dev
git pull origin dev
# ... –≤–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è ...
git add .
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏"
git push origin dev
```

### 2. Main Branch (`main`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Staging environment, pre-production

**–ü—Ä–∞–≤–∏–ª–∞**:
- ‚ùå –ü—Ä—è–º—ã–µ –∫–æ–º–º–∏—Ç—ã **–∑–∞–ø—Ä–µ—â–µ–Ω—ã**
- ‚úÖ –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Pull Request
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è **1 approval** –æ—Ç reviewer
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ status checks:
  - `test` ‚Äî –≤—Å–µ unit/integration —Ç–µ—Å—Ç—ã
  - `security` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (safety, bandit)
  - `code-quality` ‚Äî –ª–∏–Ω—Ç–µ—Ä—ã (ruff, black, isort, mypy)
- ‚ùå Force push –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- ‚úÖ Linear history –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞

**Branch Protection –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ GitHub API**

### 3. Production Branch (`prod`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Production environment

**–ü—Ä–∞–≤–∏–ª–∞**:
- ‚ùå –ü—Ä—è–º—ã–µ –∫–æ–º–º–∏—Ç—ã **–∑–∞–ø—Ä–µ—â–µ–Ω—ã**
- ‚úÖ –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Pull Request
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è **2 approvals** –æ—Ç reviewers
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ status checks:
  - `test`
  - `security`
  - `code-quality`
  - `validate-prod-pr` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ PR –∏–¥—ë—Ç –∏–∑ main
  - `full-test-suite` ‚Äî –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä E2E —Ç–µ—Å—Ç–æ–≤
- ‚ùå Force push –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- ‚úÖ Linear history –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
- ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã**

---

## üìõ Naming Conventions

### –í–µ—Ç–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏:

#### Feature Branches (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
```bash
feature/user-authentication
feature/payment-integration
feature/blog-comments
```

#### Bugfix Branches (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤)
```bash
bugfix/login-redirect-issue
bugfix/email-template-typo
bugfix/payment-validation
```

#### Hotfix Branches (—Å—Ä–æ—á–Ω—ã–µ —Ñ–∏–∫—Å—ã –¥–ª—è prod)
```bash
hotfix/security-vulnerability
hotfix/critical-database-error
hotfix/payment-processing-down
```

#### Refactor Branches (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
```bash
refactor/authentication-service
refactor/database-queries
refactor/api-endpoints
```

#### Docs Branches (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
```bash
docs/api-documentation
docs/setup-instructions
docs/contributing-guide
```

#### Test Branches (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤)
```bash
test/authentication-coverage
test/payment-integration-tests
test/api-endpoints
```

### –ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤–µ—Ç–æ–∫

1. **–¢–æ–ª—å–∫–æ lowercase** + –¥–µ—Ñ–∏—Å—ã
2. **–ú–∞–∫—Å–∏–º—É–º 3-4 —Å–ª–æ–≤–∞**
3. **–û–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è** (–ø–æ–Ω—è—Ç–Ω–æ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è)
4. **–ü—Ä–µ—Ñ–∏–∫—Å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω**

‚ùå **–ü–ª–æ—Ö–æ**:
```bash
new_feature
MyFeature
fix
test123
```

‚úÖ **–•–æ—Ä–æ—à–æ**:
```bash
feature/user-profile
bugfix/navbar-overflow
hotfix/security-patch
```

---

## üìù Commit Guidelines

–ò—Å–ø–æ–ª—å–∑—É–µ–º **Conventional Commits** —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é.

### –§–æ—Ä–º–∞—Ç

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Types (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

| Type | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|----------|--------|
| `feat` | –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | `feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π` |
| `fix` | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ | `fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è email` |
| `docs` | –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | `docs: –æ–±–Ω–æ–≤–ª—ë–Ω README` |
| `style` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–±–µ–ª—ã (–Ω–µ –∫–æ–¥) | `style: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—Ç—Å—Ç—É–ø—ã –≤ api.py` |
| `refactor` | –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞ | `refactor: —É–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏` |
| `test` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ | `test: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è API` |
| `chore` | –†—É—Ç–∏–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏, –∫–æ–Ω—Ñ–∏–≥ | `chore: –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏` |
| `perf` | –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | `perf: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω SQL –∑–∞–ø—Ä–æ—Å` |
| `ci` | –ò–∑–º–µ–Ω–µ–Ω–∏—è CI/CD | `ci: –¥–æ–±–∞–≤–ª–µ–Ω Docker build` |
| `build` | –°–±–æ—Ä–∫–∞, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | `build: –æ–±–Ω–æ–≤–ª—ë–Ω pyproject.toml` |
| `revert` | –û—Ç–∫–∞—Ç –∫–æ–º–º–∏—Ç–∞ | `revert: –æ—Ç–∫–∞—Ç feat: payment` |

### Scope (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ú–æ–¥—É–ª—å/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–≥–æ –∫–∞—Å–∞—é—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
feat(authentication): –¥–æ–±–∞–≤–ª–µ–Ω–∞ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
fix(blog): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π
docs(api): –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è endpoints
test(payments): –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

### Subject (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (50-72 —Å–∏–º–≤–æ–ª–∞)
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã (lowercase)
- –ë–µ–∑ —Ç–æ—á–∫–∏ –≤ –∫–æ–Ω—Ü–µ
- –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ ("–¥–æ–±–∞–≤–ª–µ–Ω–∞", –∞ –Ω–µ "–¥–æ–±–∞–≤–ª–µ–Ω–æ")

### Body (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ **–ß–¢–û** –∏ **–ü–û–ß–ï–ú–£** (–Ω–µ –ö–ê–ö):

```
fix(authentication): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —É—Ç–µ—á–∫–∞ JWT —Ç–æ–∫–µ–Ω–æ–≤

–¢–æ–∫–µ–Ω—ã –Ω–µ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª–∏—Å—å –ø—Ä–∏ –ª–æ–≥–∞—É—Ç–µ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–ª–æ
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤ Redis blacklist –ø–µ—Ä–µ–¥
–∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º endpoints.
```

### Footer (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°—Å—ã–ª–∫–∏ –Ω–∞ issues, breaking changes:

```
feat(api): –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ API

BREAKING CHANGE: —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –∏–∑–º–µ–Ω—ë–Ω —Å {data: ...} –Ω–∞ {result: ...}

Fixes #123
Closes #456
Refs #789
```

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–º–∏—Ç–æ–≤

#### ‚úÖ –û—Ç–ª–∏—á–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã

```bash
feat(blog): –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å—Ç–∞—Ç—å—è–º.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –¥–æ 3 —É—Ä–æ–≤–Ω–µ–π.

Closes #145

---

fix(authentication): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

Email –∞–¥—Ä–µ—Å–∞ —Å + –≤ –∏–º–µ–Ω–∏ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è.

Fixes #234

---

refactor(payments): —É–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π

–£–¥–∞–ª—ë–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥, –ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å.
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞ –Ω–∞ ~15%.

---

test(courses): –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞

–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –º–æ–¥—É–ª—è courses —É–≤–µ–ª–∏—á–µ–Ω–æ —Å 65% –¥–æ 87%.

---

docs: –æ–±–Ω–æ–≤–ª—ë–Ω Git workflow guide

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã commit messages –∏ PR templates.
```

#### ‚ùå –ü–ª–æ—Ö–∏–µ –∫–æ–º–º–∏—Ç—ã

```bash
fixed bug                    # –ö–∞–∫–æ–π bug? –ì–¥–µ?
update                       # –ß—Ç–æ –æ–±–Ω–æ–≤–∏–ª–∏?
WIP                         # Work in progress –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞—Å—Ç—å –≤ main
asdf                        # –ë–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
Fixed issue                 # –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
minor changes               # –°–ª–∏—à–∫–æ–º –æ–±—â–µ–µ
```

---

## üîÄ Pull Request –ø—Ä–æ—Ü–µ—Å—Å

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Feature Branch

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ dev –∏ –æ–±–Ω–æ–≤–ª—è–µ–º
git checkout dev
git pull origin dev

# –°–æ–∑–¥–∞—ë–º feature branch
git checkout -b feature/user-notifications

# –†–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ –∑–∞–¥–∞—á–µ–π...
# ... –∫–æ–º–º–∏—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è ...

# –ü—É—à–∏–º –≤ remote
git push -u origin feature/user-notifications
```

### 2. –û—Ç–∫—Ä—ã—Ç–∏–µ Pull Request

#### –ß–µ—Ä–µ–∑ GitHub CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
gh pr create \
  --base dev \
  --head feature/user-notifications \
  --title "feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π" \
  --body "$(cat <<EOF
## –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å Notification
- API endpoints –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- Celery –∑–∞–¥–∞—á–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- –¢–µ—Å—Ç—ã (–ø–æ–∫—Ä—ã—Ç–∏–µ 85%)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [x] Integration —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤—Ä—É—á–Ω—É—é

## –ß–µ–∫–ª–∏—Å—Ç
- [x] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç style guide
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

Closes #123
EOF
)"
```

#### –ß–µ—Ä–µ–∑ GitHub UI

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ GitHub ‚Üí Pull Requests ‚Üí New Pull Request
2. Base: `dev` ‚Üê Compare: `feature/user-notifications`
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å title –∏ description (—Å–º. —à–∞–±–ª–æ–Ω –Ω–∏–∂–µ)
4. Assign reviewers
5. Add labels (`enhancement`, `backend`, etc.)
6. Create Pull Request

### 3. PR Template

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è PR:

```markdown
## üéØ –¶–µ–ª—å

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è).

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è

- –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å X
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω API endpoint Y
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ Z

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å:

- [ ] Unit —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Integration —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤—Ä—É—á–Ω—É—é –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

[–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã UI –∏–∑–º–µ–Ω–µ–Ω–∏–π]

## ‚ö†Ô∏è Breaking Changes

–ï—Å—Ç—å –ª–∏ breaking changes? –ï—Å–ª–∏ –¥–∞, –æ–ø–∏—à–∏—Ç–µ:

- –ò–∑–º–µ–Ω—ë–Ω —Ñ–æ—Ä–º–∞—Ç API response
- –£–¥–∞–ª—ë–Ω endpoint /old-api
- –ú–∏–≥—Ä–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

## üìã –ß–µ–∫–ª–∏—Å—Ç

- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç style guide
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å base branch
- [ ] CI –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

Closes #123
Refs #456
```

### 4. CI –ü—Ä–æ–≤–µ—Ä–∫–∏

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è PR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è:

**–î–ª—è PR –≤ `dev`:**
- ‚úÖ `test` ‚Äî pytest —Å coverage
- ‚úÖ `security` ‚Äî safety + bandit
- ‚úÖ `code-quality` ‚Äî ruff + black + isort + mypy

**–î–ª—è PR –≤ `main`:**
- ‚úÖ –í—Å—ë –∏–∑ dev +
- ‚úÖ `pr-validation` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ PR –∏–¥—ë—Ç –∏–∑ dev
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è **1 approval**

**–î–ª—è PR –≤ `prod`:**
- ‚úÖ –í—Å—ë –∏–∑ main +
- ‚úÖ `validate-prod-pr` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ PR –∏–¥—ë—Ç –∏–∑ main
- ‚úÖ `full-test-suite` ‚Äî E2E —Ç–µ—Å—Ç—ã
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è **2 approvals**

### 5. Review –∏ Approval

#### –î–ª—è —Ä–µ–≤—å—é–µ—Ä–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PR –ª–æ–∫–∞–ª—å–Ω–æ
gh pr checkout 123

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
pytest

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥
# ... review code changes ...

# –û—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —á–µ—Ä–µ–∑ UI –∏–ª–∏ CLI
gh pr review 123 --comment -b "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è edge cases."

# Approve PR
gh pr review 123 --approve

# Request changes
gh pr review 123 --request-changes -b "–ù—É–∂–Ω—ã –¥–æ—Ä–∞–±–æ—Ç–∫–∏"
```

#### –î–ª—è –∞–≤—Ç–æ—Ä–∞:

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:

```bash
# –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "refactor: —É—á—Ç–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ review"
git push origin feature/user-notifications

# PR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
```

### 6. Merge

–ü–æ—Å–ª–µ approval –∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö checks:

**–ß–µ—Ä–µ–∑ GitHub CLI:**
```bash
# Merge (—Å–æ–∑–¥–∞—ë—Ç merge commit)
gh pr merge 123 --merge

# Squash (–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –∫–æ–º–º–∏—Ç—ã –≤ –æ–¥–∏–Ω)
gh pr merge 123 --squash

# Rebase (–¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–º–º–∏—Ç—ã –ø–æ–≤–µ—Ä—Ö base branch)
gh pr merge 123 --rebase
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**
- `dev` ‚Üê feature: **squash** (—á–∏—Å—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è)
- `main` ‚Üê dev: **merge** (—Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ç–æ—Ä–∏—é)
- `prod` ‚Üê main: **merge** (–ø–æ–ª–Ω–∞—è –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å)

### 7. Cleanup

–ü–æ—Å–ª–µ merge:

```bash
# –£–¥–∞–ª–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ç–∫—É
git checkout dev
git pull origin dev
git branch -d feature/user-notifications

# –£–¥–∞–ª–∏—Ç—å remote –≤–µ—Ç–∫—É (–µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
git push origin --delete feature/user-notifications
```

---

## üëÄ Code Review

### Checklist –¥–ª—è —Ä–µ–≤—å—é–µ—Ä–∞

#### –ö–æ–¥

- [ ] –ö–æ–¥ —á–∏—Ç–∞–µ–º—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (DRY)
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è type hints
- [ ] Docstrings –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π/–∫–ª–∞—Å—Å–æ–≤
- [ ] –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ (magic numbers, strings)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≥–¥–µ –Ω—É–∂–Ω–æ

#### –¢–µ—Å—Ç—ã

- [ ] –ï—Å—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
- [ ] –ï—Å—Ç—å integration —Ç–µ—Å—Ç—ã –¥–ª—è API
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (CI green)
- [ ] Coverage –Ω–µ —É–ø–∞–ª (>80% –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] –ù–µ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π
- [ ] –ù–µ—Ç XSS —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- [ ] –ü–∞—Ä–æ–ª–∏/—Ç–æ–∫–µ–Ω—ã –Ω–µ –≤ –∫–æ–¥–µ
- [ ] API endpoints –∑–∞—â–∏—â–µ–Ω—ã (auth required)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- [ ] –ù–µ—Ç N+1 –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è select_related/prefetch_related
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ
- [ ] –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ –ë–î –ø–æ–ª—è—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ù–µ—Ç data loss –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö
- [ ] Rollback –≤–æ–∑–º–æ–∂–µ–Ω

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] API –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] README –æ–±–Ω–æ–≤–ª—ë–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Å–ª–æ–∂–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ review

#### ‚úÖ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

```
üí° Suggestion: –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å list comprehension –≤–º–µ—Å—Ç–æ —Ü–∏–∫–ª–∞:
   users = [u.username for u in User.objects.filter(is_active=True)]

‚ö†Ô∏è Issue: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ connection timeout.
   –î–æ–±–∞–≤—å—Ç–µ try/except —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

‚ùì Question: –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è sync –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ async?
   –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

‚úÖ Looks good: –û—Ç–ª–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @cache_page –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞!

üêõ Bug: –ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å division by zero, –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É.
```

#### ‚ùå –ü–ª–æ—Ö–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

```
–ü–ª–æ—Ö–æ                  # –ß—Ç–æ –ø–ª–æ—Ö–æ? –ü–æ—á–µ–º—É?
–ü–µ—Ä–µ–¥–µ–ª–∞–π—Ç–µ            # –ö–∞–∫ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å? –ß—Ç–æ –Ω–µ —Ç–∞–∫?
–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç            # –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –¥–µ—Ç–∞–ª—å–Ω–æ
```

---

## üîÑ CI/CD Pipeline

### GitHub Actions Workflows

#### 1. CI Workflow (`.github/workflows/ci.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ `dev`, `main`, `prod`
- Pull Request –≤ `dev`, `main`, `prod`

**Jobs:**

**`test` job:**
```yaml
- Setup Python 3.13
- Install dependencies (poetry)
- Setup PostgreSQL + Redis
- Run pytest with coverage
- Upload coverage report
```

**`security` job:**
```yaml
- Run safety check (Python packages vulnerabilities)
- Run bandit (security issues in code)
```

**`code-quality` job:**
```yaml
- Run ruff (linting)
- Run black (formatting check)
- Run isort (import sorting)
- Run mypy (type checking)
```

#### 2. Docker Publish (`.github/workflows/docker-publish.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ `dev`, `main`, `prod`
- Pull Request –≤ `main`, `prod`

**–õ–æ–≥–∏–∫–∞:**

```yaml
dev branch ‚Üí Docker tags: dev, dev-{sha}
main branch ‚Üí Docker tags: latest, main, main-{sha}
prod branch ‚Üí Docker tags: production, prod-{sha}
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. Checkout code
2. Setup Docker Buildx
3. Login to Docker Hub
4. Build and push image
5. Tag —Å version –∏ sha

#### 3. Branch Protection (`.github/workflows/branch-protection.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Pull Request –≤ `main`, `prod`

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**

```yaml
validate-main-pr:
  - –ë–ª–æ–∫–∏—Ä—É–µ—Ç feature ‚Üí main (—Ç—Ä–µ–±—É–µ—Ç dev)
  - –†–∞–∑—Ä–µ—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ dev ‚Üí main

validate-prod-pr:
  - –ë–ª–æ–∫–∏—Ä—É–µ—Ç dev ‚Üí prod (—Ç—Ä–µ–±—É–µ—Ç main)
  - –†–∞–∑—Ä–µ—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ main ‚Üí prod

full-test-suite:
  - –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä E2E —Ç–µ—Å—Ç–æ–≤ –¥–ª—è prod PRs
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ CI

```bash
# –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö workflow runs
gh run list --limit 10

# –î–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ run
gh run view 123456789

# –õ–æ–≥–∏ failed job
gh run view 123456789 --log-failed

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ job
gh run view 123456789 --job=987654321

# Re-run failed jobs
gh run rerun 123456789 --failed
```

---

## üö® Hotfix Workflow

–î–ª—è **—Å—Ä–æ—á–Ω—ã—Ö —Ñ–∏–∫—Å–æ–≤ –≤ production**:

### 1. –°–æ–∑–¥–∞–Ω–∏–µ hotfix –∏–∑ prod

```bash
# –°–æ–∑–¥–∞—ë–º hotfix branch –∏–∑ prod
git checkout prod
git pull origin prod
git checkout -b hotfix/critical-security-fix

# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–±–ª–µ–º—É
# ... fix code ...

# –ö–æ–º–º–∏—Ç–∏–º
git add .
git commit -m "hotfix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å"

# –ü—É—à–∏–º
git push -u origin hotfix/critical-security-fix
```

### 2. PR –≤ prod

```bash
# –°–æ–∑–¥–∞—ë–º PR –Ω–∞–ø—Ä—è–º—É—é –≤ prod
gh pr create \
  --base prod \
  --head hotfix/critical-security-fix \
  --title "hotfix: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏" \
  --body "–°—Ä–æ—á–Ω—ã–π hotfix –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–∏..."

# –¢—Ä–µ–±—É–µ—Ç—Å—è 2 approvals (–∫–∞–∫ –æ–±—ã—á–Ω–æ –¥–ª—è prod)
# –ü–æ—Å–ª–µ merge - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
```

### 3. Backport –≤ main –∏ dev

–ü–æ—Å–ª–µ merge –≤ prod, –Ω—É–∂–Ω–æ backport –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
# Cherry-pick –≤ main
git checkout main
git pull origin main
git cherry-pick <commit-hash>
git push origin main

# Cherry-pick –≤ dev
git checkout dev
git pull origin dev
git cherry-pick <commit-hash>
git push origin dev

# –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å PR –∏–∑ hotfix –≤ main –∏ dev
gh pr create --base main --head hotfix/critical-security-fix
gh pr create --base dev --head hotfix/critical-security-fix
```

### 4. Cleanup

```bash
# –£–¥–∞–ª–∏—Ç—å hotfix branch –ø–æ—Å–ª–µ backport
git branch -d hotfix/critical-security-fix
git push origin --delete hotfix/critical-security-fix
```

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å upstream

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –≤–µ—Ç–∫–∏
git fetch origin

# –û–±–Ω–æ–≤–∏—Ç—å dev
git checkout dev
git pull origin dev

# –û–±–Ω–æ–≤–∏—Ç—å main
git checkout main
git pull origin main

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é feature branch —Å dev
git checkout feature/my-feature
git merge dev
# –∏–ª–∏
git rebase dev
```

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

```bash
# –ü—Ä–∏ merge –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ
git status  # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Ñ–∞–π–ª—ã

# –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª, –Ω–∞–π—Ç–∏ <<<<<<< HEAD –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç

git add <resolved-file>
git commit  # –ó–∞–≤–µ—Ä—à–∏—Ç—å merge

# –û—Ç–º–µ–Ω–∏—Ç—å merge –µ—Å–ª–∏ –∑–∞–ø—É—Ç–∞–ª–∏—Å—å
git merge --abort
```

### –†–∞–±–æ—Ç–∞ —Å –∫–æ–º–º–∏—Ç–∞–º–∏

```bash
# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç (message –∏–ª–∏ —Ñ–∞–π–ª—ã)
git commit --amend

# –ò–∑–º–µ–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–º–º–∏—Ç–æ–≤ (interactive rebase)
git rebase -i HEAD~3

# –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è)
git reset --soft HEAD~1

# –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç (—É–¥–∞–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è)
git reset --hard HEAD~1

# –û—Ç–∫–∞—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–∏—Ç (—Å–æ–∑–¥–∞—Ç—å revert commit)
git revert <commit-hash>
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏

```bash
# –ö—Ä–∞—Å–∏–≤—ã–π –ª–æ–≥
git log --oneline --graph --decorate --all

# –ö–æ–º–º–∏—Ç—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é
git log --since="1 week ago"

# –ö–æ–º–º–∏—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞
git log --author="Dmitrii"

# –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ñ–∞–π–ª–µ
git log -p -- path/to/file.py

# –ù–∞–π—Ç–∏ –∫–æ–º–º–∏—Ç –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—é
git log --grep="authentication"
```

### –ü–æ–ª–µ–∑–Ω—ã–µ alias

–î–æ–±–∞–≤—å—Ç–µ –≤ `~/.gitconfig`:

```ini
[alias]
    st = status
    co = checkout
    br = branch
    ci = commit
    lg = log --oneline --graph --decorate --all
    last = log -1 HEAD
    unstage = reset HEAD --
    amend = commit --amend --no-edit
    pushf = push --force-with-lease
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Git Documentation](https://git-scm.com/doc)
- [Conventional Commits](https://www.conventionalcommits.org/)
- [GitHub Flow](https://docs.github.com/en/get-started/quickstart/github-flow)
- [Semantic Versioning](https://semver.org/)
- [Git Best Practices](https://deepsource.io/blog/git-best-practices/)

---

## ‚ùì FAQ

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∫–æ–º–º–∏—Ç–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ dev?**
A: –î–∞, –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö —Ñ–∏–∫—Å–æ–≤. –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö —Ñ–∏—á –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ feature branch + PR.

**Q: –°–∫–æ–ª—å–∫–æ approvals –Ω—É–∂–Ω–æ –¥–ª—è merge –≤ main?**
A: 1 approval –æ—Ç –ª—é–±–æ–≥–æ reviewer.

**Q: –°–∫–æ–ª—å–∫–æ approvals –Ω—É–∂–Ω–æ –¥–ª—è merge –≤ prod?**
A: 2 approvals –æ—Ç reviewers.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –¥–µ–ª–∞—Ç—å force push?**
A: –¢–æ–ª—å–∫–æ –≤ dev –∏ –≤ —Å–≤–æ–∏ feature branches. –í main –∏ prod force push –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.

**Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ CI checks –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç?**
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (`gh run view <id> --log-failed`), –∏—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º—É, push –∏–∑–º–µ–Ω–µ–Ω–∏—è.

**Q: –ö–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å deploy –≤ production?**
A: –°–æ–∑–¥–∞–π—Ç–µ revert commit –∏ —Å–¥–µ–ª–∞–π—Ç–µ hotfix PR –≤ prod.

**Q: –ù—É–∂–Ω–æ –ª–∏ squash –∫–æ–º–º–∏—Ç—ã –ø–µ—Ä–µ–¥ merge?**
A: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è feature ‚Üí dev. –î–ª—è dev ‚Üí main –∏ main ‚Üí prod ‚Äî –æ–±—ã—á–Ω—ã–π merge.

---

**–î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—ë–Ω**: 21 –¥–µ–∫–∞–±—Ä—è 2024
**–í–µ—Ä—Å–∏—è**: 1.0
