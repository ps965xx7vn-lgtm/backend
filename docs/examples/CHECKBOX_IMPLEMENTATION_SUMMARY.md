# –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π - –ß–µ–∫–±–æ–∫—Å—ã —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å Step
**–§–∞–π–ª:** `courses/models.py`
- –ü–æ–ª–µ `repair_description` –∏–∑–º–µ–Ω–µ–Ω–æ —Å CharField –Ω–∞ TextField
- –¢–µ–ø–µ—Ä—å support –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫
- –û–ø–∏—Å–∞–Ω–∏–µ: "–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∞–≤–æ–∫ (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º)"

### 2. –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è
**–§–∞–π–ª:** `courses/migrations/0004_alter_repair_description_to_textfield.py`
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
- –ò–∑–º–µ–Ω—è–µ—Ç —Ç–∏–ø –ø–æ–ª—è –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π (ru/en/ka)

### 3. –û–±–Ω–æ–≤–ª–µ–Ω —à–∞–±–ª–æ–Ω lesson-detail.html
**–§–∞–π–ª:** `students/templates/students/dashboard/lesson-detail.html`

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```django
{% if step_data.step.self_check_items %}
    <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–æ–≤ -->
    <div class="self-check-items" data-step-id="{{ step_data.step.id }}">
        {% for item in step_data.step.self_check_items %}
        <label class="self-check-item">
            <input type="checkbox" class="self-check-checkbox">
            <span class="checkbox-text">{{ item }}</span>
        </label>
        {% endfor %}

        <!-- –°—á—ë—Ç—á–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
        <div class="self-check-progress">
            <span class="checked-count">0</span> /
            <span class="total-count">{{ step_data.step.self_check_items|length }}</span>
            –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ (—Å–∫—Ä—ã—Ç–∞ –ø–æ–∫–∞ –Ω–µ –≤—Å–µ –æ—Ç–º–µ—á–µ–Ω—ã) -->
        <button class="btn btn-primary btn-next-step" style="display: none;">
            –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Üí
        </button>
    </div>
{% elif step_data.step.self_check %}
    <!-- –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å) -->
    <div class="markdown-content">
        {{ step_data.step.self_check|markdownify }}
    </div>
{% endif %}
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω JavaScript
**–§–∞–π–ª:** `static/js/students/lesson-detail.js`

**–§—É–Ω–∫—Ü–∏—è:** `initSelfCheckItems()`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤ –≤ localStorage
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á—ë—Ç –æ—Ç–º–µ—á–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
- ‚úÖ –ü–æ–∫–∞–∑ –∫–Ω–æ–ø–∫–∏ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥" –∫–æ–≥–¥–∞ –≤—Å–µ –≥–∞–ª–æ—á–∫–∏ —Å—Ç–æ—è—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- ‚úÖ Collapse —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞ –∏ expand —Å–ª–µ–¥—É—é—â–µ–≥–æ

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```javascript
function initSelfCheckItems() {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ localStorage
    const savedState = localStorage.getItem(`self-check-${stepId}`);

    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
    checkbox.addEventListener('change', updateProgress);

    // –ö–Ω–æ–ø–∫–∞ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥" –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —à–∞–≥–∏
    nextStepBtn.addEventListener('click', function() {
        // Collapse —Ç–µ–∫—É—â–∏–π
        currentStep.classList.remove('expanded');
        // Expand —Å–ª–µ–¥—É—é—â–∏–π
        nextStep.classList.add('expanded');
        // –°–∫—Ä–æ–ª–ª –∫ —Å–ª–µ–¥—É—é—â–µ–º—É
        nextStep.scrollIntoView({ behavior: 'smooth' });
    });
}
```

### 5. –î–æ–±–∞–≤–ª–µ–Ω—ã CSS —Å—Ç–∏–ª–∏
**–§–∞–π–ª:** `static/css/students/self-check-items.css`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —á–µ–∫–±–æ–∫—Å–æ–≤ —Å hover —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- ‚úÖ –ó–∞—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –æ—Ç–º–µ—Ç–∫–µ
- ‚úÖ –ó–µ–ª—ë–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥"
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö

**–ö–ª—é—á–µ–≤—ã–µ —Å—Ç–∏–ª–∏:**
```css
.self-check-item:has(.self-check-checkbox:checked) {
    background: rgba(16, 185, 129, 0.05);
    border-color: rgba(16, 185, 129, 0.3);
}

.self-check-item:has(.self-check-checkbox:checked) .checkbox-text {
    color: var(--success-700);
    text-decoration: line-through;
    opacity: 0.7;
}

.btn-next-step {
    animation: slideIn 0.3s ease;
}
```

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∞ API —Å—Ö–µ–º–∞
**–§–∞–π–ª:** `courses/schemas.py`

```python
class StepOut(BaseModel):
    id: UUID
    name: str
    step_number: int
    description: str | None = None
    actions: str | None = None
    self_check: str | None = None
    self_check_items: list[str] | None = None  # ‚Üê –ù–û–í–û–ï –ü–û–õ–ï
    submission_field: str | None = None
```

### 7. –ü–æ–¥–∫–ª—é—á–µ–Ω—ã —Å—Ç–∏–ª–∏ –≤ —à–∞–±–ª–æ–Ω–µ
**–§–∞–π–ª:** `students/templates/students/dashboard/lesson-detail.html`
```django
<link rel="stylesheet" href="{% static 'css/students/self-check-items.css' %}?v=20250129">
```

---

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

1. **–°—Ç—É–¥–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —à–∞–≥ —Å self_check_items:**
   - –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —á–µ–∫–±–æ–∫—Å–æ–≤ —Å –ø—É–Ω–∫—Ç–∞–º–∏ —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏
   - –°—á—ë—Ç—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "0 / 5 –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"
   - –ö–Ω–æ–ø–∫–∞ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥" —Å–∫—Ä—ã—Ç–∞

2. **–°—Ç—É–¥–µ–Ω—Ç –æ—Ç–º–µ—á–∞–µ—Ç –ø—É–Ω–∫—Ç—ã:**
   - –ö–ª–∏–∫ –Ω–∞ —á–µ–∫–±–æ–∫—Å ‚Üí –≥–∞–ª–æ—á–∫–∞ —Å—Ç–∞–≤–∏—Ç—Å—è
   - –¢–µ–∫—Å—Ç –∑–∞—á—ë—Ä–∫–∏–≤–∞–µ—Ç—Å—è, —Ñ–æ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–µ–ª—ë–Ω—ã–º
   - –°—á—ë—Ç—á–∏–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: "1 / 5 –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage

3. **–í—Å–µ –ø—É–Ω–∫—Ç—ã –æ—Ç–º–µ—á–µ–Ω—ã:**
   - –°—á—ë—Ç—á–∏–∫: "5 / 5 –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"
   - ‚ú® –ü–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥" (—Å –∞–Ω–∏–º–∞—Ü–∏–µ–π)

4. **–ö–ª–∏–∫ –Ω–∞ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥":**
   - –¢–µ–∫—É—â–∏–π —à–∞–≥ —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è
   - –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è
   - –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É"

5. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
   - –í—Å–µ –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –≥–∞–ª–æ—á–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∏–∑ localStorage
   - –°—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞

---

## üìã –î–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API:
```json
{
  "id": "uuid",
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–≥–∞",
  "self_check_items": [
    "–ü–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏",
    "–í—Ç–æ—Ä–æ–π –ø—É–Ω–∫—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏",
    "–¢—Ä–µ—Ç–∏–π –ø—É–Ω–∫—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏"
  ]
}
```

### –ï—Å–ª–∏ `self_check_items` –ø—É—Å—Ç–æ–π –∏–ª–∏ null:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç `self_check` (markdown —Ç–µ–∫—Å—Ç)
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

### –ü–æ–ª–µ `repair_description`:
- ‚ö†Ô∏è **–ê–¥–º–∏–Ω-–ø–æ–ª–µ, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º!**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∞–≤–æ–∫
- –ù–µ –≤–∫–ª—é—á–µ–Ω–æ –≤ —à–∞–±–ª–æ–Ω—ã —Å—Ç—É–¥–µ–Ω—Ç–∞

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **API endpoint –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–º–µ—Ç–∫–∏ —à–∞–≥–∞ –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–≥–æ:**
```python
@router.post("/steps/{step_id}/complete")
def complete_step(request, step_id: UUID):
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ—Ç–∏—Ç—å —à–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º
    # –∫–æ–≥–¥–∞ –≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã –æ—Ç–º–µ—á–µ–Ω—ã
    pass
```

2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤ —Å backend:**
   - –°–µ–π—á–∞—Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

3. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–µ–∫–±–æ–∫—Å–∞–º:**
   - –°–∫–æ–ª—å–∫–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –æ—Ç–º–µ—Ç–∏–ª–∏ –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç
   - –ì–¥–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –∑–∞—Å—Ç—Ä–µ–≤–∞—é—Ç —á–∞—â–µ –≤—Å–µ–≥–æ

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- ‚úÖ –ú–æ–¥–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (repair_description –∫–∞–∫ TextField)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- ‚úÖ –®–∞–±–ª–æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–∑–º–µ—Ç–∫—É –¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤
- ‚úÖ JavaScript –¥–æ–±–∞–≤–ª–µ–Ω —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
- ‚úÖ CSS —Å—Ç–∏–ª–∏ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ API —Å—Ö–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

**–ö—É—Ä—Å –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã self_check_items –ø–æ–ø–∞–ª–∏ –≤ –±–∞–∑—É.**
