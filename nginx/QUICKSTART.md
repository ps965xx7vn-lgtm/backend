# üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ VDS

–ü–∞–ø–∫–∞ `nginx/` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –¥–µ–ø–ª–æ—è Pyland –Ω–∞ VDS —Å–µ—Ä–≤–µ—Ä.

## üì¶ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ

- **Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Å—Ç–∞—Ç–∏–∫–∏ –∏ –º–µ–¥–∏–∞
- **Systemd —Å–µ—Ä–≤–∏—Å—ã** –¥–ª—è Gunicorn, Celery Worker –∏ Celery Beat
- **Gunicorn –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –¥–ª—è production
- **–°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
  - `install.sh` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  - `deploy.sh` - –¥–µ–ø–ª–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - `manage_services.sh` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
  - `backup.sh` - —Å–æ–∑–¥–∞–Ω–∏–µ –±–µ–∫–∞–ø–æ–≤

## üèÅ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 0. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS (–ü–ï–†–í–´–ô –®–ê–ì!)

‚ö†Ô∏è **–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ DNS:**

1. –î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å–∏ –≤ –ø–∞–Ω–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
   - `pylandschool.com` ‚Üí `78.40.219.145`
   - `www.pylandschool.com` ‚Üí `78.40.219.145`

2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-15 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
78.40.219.145
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
```bash
./nginx/scripts/pre_deploy_check.sh
```

üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ: [nginx/DNS_SETUP.md](DNS_SETUP.md)

### 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
scp -r pyland root@78.40.219.145:/opt/
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
ssh root@78.40.219.145
cd /opt/pyland/backend/nginx/scripts
sudo ./install.sh
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env

```bash
nano /opt/pyland/backend/.env
```

### 4. –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
sudo -u pyland /opt/pyland/.venv/bin/python /opt/pyland/backend/src/manage.py createsuperuser
```

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ [nginx/README.md](nginx/README.md)

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
sudo ./nginx/scripts/manage_services.sh status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
sudo ./nginx/scripts/manage_services.sh restart

# –î–µ–ø–ª–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
sudo ./nginx/scripts/deploy.sh
```

## üîê SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

```bash
sudo certbot --nginx -d pylandschool.com -d www.pylandschool.com
```

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï**: DNS –∑–∞–ø–∏—Å–∏ –¥–æ–ª–∂–Ω—ã —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ IP **78.40.219.145** –¥–æ –∑–∞–ø—É—Å–∫–∞ certbot!
