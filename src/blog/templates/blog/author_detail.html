{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% load markdown_filters %}

{% block title %}{{ author.display_name }} - {% trans "–ê–≤—Ç–æ—Ä" %} - PyLand{% endblock %}
{% block description %}{{ author.bio|truncatechars:160 }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/courses/courses.css' %}">

<link rel="stylesheet" href="{% static 'css/blog/utils.css' %}">
{% endblock %}

{% block content %}
<!-- Author Profile Hero -->
<section class="revolutionary-hero-home">
	<div class="hero-particles">
		<div class="particle particle-1"></div>
		<div class="particle particle-2"></div>
		<div class="particle particle-3"></div>
		<div class="particle particle-4"></div>
		<div class="particle particle-5"></div>
	</div>
	
	<div class="container">
		<div class="hero-main-content">
			<!-- Author Avatar -->

			
			<!-- Author Badge -->
			<div class="hero-badge-revolutionary animate-fade-in delay-1">
				<span>‚úçÔ∏è</span>
				<span>{% trans "–ê–≤—Ç–æ—Ä" %}</span>
			</div>
			
			<!-- Author Name -->
			<h1 class="hero-title-revolutionary animate-fade-in delay-2">
				{{ author.display_name }}
			</h1>
			
			<!-- Author Bio -->
			<p class="hero-subtitle-revolutionary animate-fade-in delay-3">
				{{ author.bio|default:_('–ê–≤—Ç–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ PyLand, –¥–µ–ª–∏—Ç—Å—è –∑–Ω–∞–Ω–∏—è–º–∏ –∏ –æ–ø—ã—Ç–æ–º –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏') }}
			</p>
			
			<!-- Social Links -->
			{% if social_links %}
			<div class="hero-actions-revolutionary animate-fade-in delay-4">
				{% for name, url in social_links.items %}
					<a href="{{ url }}" target="_blank" rel="noopener noreferrer" class="btn-revolutionary-hero btn-secondary-hero">
						<span>üîó</span>
						<span>{{ name }}</span>
					</a>
				{% endfor %}
			</div>
			{% endif %}
			
			<!-- Author Stats -->
			<div class="hero-stats-revolutionary animate-fade-in delay-5">
				<div class="stat-card-revolutionary">
					<span class="stat-number-revolutionary">{{ author.articles_count|default:'0' }}</span>
					<span class="stat-label-revolutionary">{% trans "–°—Ç–∞—Ç–µ–π" %}</span>
				</div>
				<div class="stat-card-revolutionary">
					<span class="stat-number-revolutionary">{{ total_views|default:'0' }}</span>
					<span class="stat-label-revolutionary">{% trans "–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤" %}</span>
				</div>
				<div class="stat-card-revolutionary">
					<span class="stat-number-revolutionary">{{ total_reactions|default:'0' }}</span>
					<span class="stat-label-revolutionary">{% trans "–†–µ–∞–∫—Ü–∏–π" %}</span>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Author Series -->
{% if author_series %}
<section class="courses-revolutionary">
	<div class="container">
		<div class="section-header-revolutionary">
			<div class="section-badge animate-fade-in">
				<span>üìö</span>
				<span>{% trans "–°–µ—Ä–∏–∏" %}</span>
			</div>
			<h2 class="section-title-revolutionary animate-fade-in delay-1">
				{% trans "–°–µ—Ä–∏–∏ –∞–≤—Ç–æ—Ä–∞" %}
			</h2>
			<p class="section-subtitle-revolutionary animate-fade-in delay-2">
				{% trans "–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–¥–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç–µ–π –æ—Ç" %} {{ author.display_name }}
			</p>
		</div>

		<div class="courses-grid-revolutionary">
			{% for series in author_series %}
			<a href="{% url 'blog:series_detail' series.slug %}" class="course-card-revolutionary animate-fade-in delay-{{ forloop.counter }}">
				<div class="course-image-revolutionary">
					{% if series.cover_image %}
						<img src="{{ series.cover_image.url }}" alt="{{ series.title }}" loading="lazy">
					{% else %}
						<div class="course-placeholder-image course-placeholder-series">
							üìö
						</div>
					{% endif %}
					<div class="course-badge-revolutionary">
						{% if series.status == 'completed' %}
							‚úÖ {% trans "–ó–∞–≤–µ—Ä—à–µ–Ω–∞" %}
						{% elif series.status == 'active' %}
							üî• {% trans "–ê–∫—Ç–∏–≤–Ω–∞" %}
						{% else %}
							‚è∏Ô∏è {% trans "–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞" %}
						{% endif %}
					</div>
				</div>
				<div class="course-content-revolutionary">
					<h3 class="course-title-revolutionary">{{ series.title }}</h3>
					<p class="course-description-revolutionary">{{ series.description|truncatewords:20 }}</p>
					<div class="course-meta-revolutionary">
						<div class="course-duration-revolutionary">
							üìñ {{ series.articles_count }} {% if series.articles_count == 1 %}{% trans "—Å—Ç–∞—Ç—å—è" %}{% elif series.articles_count < 5 %}{% trans "—Å—Ç–∞—Ç—å–∏" %}{% else %}{% trans "—Å—Ç–∞—Ç–µ–π" %}{% endif %}
						</div>
						<div class="course-lessons-revolutionary">
							üìÖ {{ series.created_at|date:"d.m.Y" }}
						</div>
					</div>
				</div>
			</a>
			{% endfor %}
		</div>
	</div>
</section>
{% endif %}

<!-- Author Articles -->
<section class="courses-revolutionary">
	<div class="container">
		<div class="section-header-revolutionary">
			<div class="section-badge animate-fade-in">
				<span>‚úçÔ∏è</span>
				<span>{% trans "–°—Ç–∞—Ç—å–∏" %}</span>
			</div>
			<h2 class="section-title-revolutionary animate-fade-in delay-1">
				{% trans "–°—Ç–∞—Ç—å–∏ –∞–≤—Ç–æ—Ä–∞" %}
			</h2>
			<p class="section-subtitle-revolutionary animate-fade-in delay-2">
				{% trans "–í—Å–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏" %} {{ author.display_name }}
			</p>
		</div>

		{% if articles %}
		<div class="courses-grid-revolutionary">
			{% for article in articles %}
			<a href="{{ article.get_absolute_url }}" class="course-card-revolutionary animate-fade-in delay-{{ forloop.counter }}">
				<div class="course-image-revolutionary">
					{% if article.featured_image %}
						<img src="{{ article.featured_image.url }}" alt="{{ article.title }}" loading="lazy">
					{% else %}
						<div class="course-placeholder-image">
							{{ article.category.icon|default:"üìñ" }}
						</div>
					{% endif %}
					{% if article.is_featured %}
						<div class="course-badge-revolutionary">‚≠ê {% trans "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º" %}</div>
					{% elif article.category %}
						<div class="course-badge-revolutionary">{{ article.category.name }}</div>
					{% endif %}
				</div>
				<div class="course-content-revolutionary">
					<h3 class="course-title-revolutionary">{{ article.title }}</h3>
					<p class="course-description-revolutionary">{{ article.excerpt|default:article.content|smart_excerpt:20 }}</p>
					<div class="course-meta-revolutionary">
						<div class="course-duration-revolutionary">
							{% if article.difficulty == 'beginner' %}
								ÔøΩ {% trans "–ù–æ–≤–∏—á–æ–∫" %}
							{% elif article.difficulty == 'intermediate' %}
								üü° {% trans "–°—Ä–µ–¥–Ω–∏–π" %}
							{% elif article.difficulty == 'advanced' %}
								üî¥ {% trans "–≠–∫—Å–ø–µ—Ä—Ç" %}
							{% else %}
								üìö {% trans "–°—Ç–∞—Ç—å—è" %}
							{% endif %}
						</div>
						<div class="course-lessons-revolutionary">
							üìÖ {{ article.published_at|date:"d.m.Y" }}
						</div>
					</div>
				</div>
			</a>
			{% endfor %}
		</div>

		<!-- Pagination -->
		{% if articles.has_other_pages %}
		<div class="pagination-revolutionary animate-fade-in delay-5">
			{% if articles.has_previous %}
				<a href="?page=1" class="pagination-btn pagination-first">
					<span>‚èÆÔ∏è</span>
					<span class="btn-text">{% trans "–ü–µ—Ä–≤–∞—è" %}</span>
				</a>
				<a href="?page={{ articles.previous_page_number }}" class="pagination-btn pagination-prev">
					<span>‚óÄÔ∏è</span>
					<span class="btn-text">{% trans "–ü—Ä–µ–¥—ã–¥—É—â–∞—è" %}</span>
				</a>
			{% endif %}
			
			<!-- Page Numbers -->
			<div class="pagination-numbers">
				{% for num in articles.paginator.page_range %}
					{% if articles.number == num %}
						<span class="pagination-btn pagination-current">{{ num }}</span>
					{% elif num > articles.number|add:'-3' and num < articles.number|add:'3' %}
						<a href="?page={{ num }}" class="pagination-btn">{{ num }}</a>
					{% elif num == 1 or num == articles.paginator.num_pages %}
						<a href="?page={{ num }}" class="pagination-btn">{{ num }}</a>
					{% elif num == articles.number|add:'-3' or num == articles.number|add:'3' %}
						<span class="pagination-dots">...</span>
					{% endif %}
				{% endfor %}
			</div>
			
			{% if articles.has_next %}
				<a href="?page={{ articles.next_page_number }}" class="pagination-btn pagination-next">
					<span class="btn-text">{% trans "–°–ª–µ–¥—É—é—â–∞—è" %}</span>
					<span>‚ñ∂Ô∏è</span>
				</a>
				<a href="?page={{ articles.paginator.num_pages }}" class="pagination-btn pagination-last">
					<span class="btn-text">{% trans "–ü–æ—Å–ª–µ–¥–Ω—è—è" %}</span>
					<span>‚è≠Ô∏è</span>
				</a>
			{% endif %}
		</div>
		{% endif %}
		{% else %}
		<div class="empty-state-revolutionary">
			<div class="empty-icon">üìù</div>
			<h3>{% trans "–ü–æ–∫–∞ –Ω–µ—Ç —Å—Ç–∞—Ç–µ–π" %}</h3>
			<p>{% trans "–£ –∞–≤—Ç–æ—Ä–∞ –µ—â—ë –Ω–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π" %}</p>
		</div>
		{% endif %}
	</div>
</section>

<!-- Categories Stats -->
{% if categories_stats %}
<section class="features-revolutionary">
	<div class="container">
		<div class="section-header-revolutionary">
			<div class="section-badge animate-fade-in">
				<span>üìä</span>
				<span>{% trans "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" %}</span>
			</div>
			<h3 class="section-title-revolutionary animate-fade-in delay-1">{% trans "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º" %}</h3>
			<p class="section-subtitle-revolutionary animate-fade-in delay-2">{% trans "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –∞–≤—Ç–æ—Ä–∞ –ø–æ —Ç–µ–º–∞–º" %}</p>
		</div>
		<div class="features-grid-revolutionary">
			{% for cat in categories_stats %}
			<div class="feature-card-revolutionary">
				<div class="feature-icon-revolutionary">{{ cat.category__icon|default:'üìÇ' }}</div>
				<h4 class="feature-title-revolutionary">{{ cat.category__name }}</h4>
				<p class="feature-description-revolutionary">{{ cat.count }} {% trans "—Å—Ç–∞—Ç–µ–π" %}</p>
			</div>
			{% endfor %}
		</div>
	</div>
</section>
{% endif %}

{% endblock %}

