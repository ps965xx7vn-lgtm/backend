{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "–°–µ—Ä–∏–∏ —Å—Ç–∞—Ç–µ–π" %} - PyLand{% endblock %}
{% block description %}{% trans "–í—Å–µ —Å–µ—Ä–∏–∏ —Å—Ç–∞—Ç–µ–π –±–ª–æ–≥–∞ PyLand. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–¥–±–æ—Ä–∫–∏ –∏ –≥–ª—É–±–æ–∫–∏–µ —Ü–∏–∫–ª—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤." %}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/courses/courses.css' %}">
<link rel="stylesheet" href="{% static 'css/blog/utils.css' %}">
<link rel="stylesheet" href="{% static 'css/blog/series.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="revolutionary-hero-home">
	<div class="hero-particles">
		<div class="particle particle-1"></div>
		<div class="particle particle-2"></div>
		<div class="particle particle-3"></div>
		<div class="particle particle-4"></div>
		<div class="particle particle-5"></div>
	</div>
	
	<div class="container">
		<div class="hero-main-content">
			<div class="hero-badge-revolutionary animate-fade-in">
				<span>üìö</span>
				<span>{% trans "–°–µ—Ä–∏–∏ —Å—Ç–∞—Ç–µ–π" %}</span>
			</div>
			
			<h1 class="hero-title-revolutionary animate-fade-in delay-1">
				{% trans "–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–¥–±–æ—Ä–∫–∏" %}
			</h1>
			
			<p class="hero-subtitle-revolutionary animate-fade-in delay-2">
				{% trans "–ì–ª—É–±–æ–∫–∏–µ —Ü–∏–∫–ª—ã —Å—Ç–∞—Ç–µ–π –ø–æ —Å–∞–º—ã–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–º —Ç–µ–º–∞–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ IT. –ò–∑—É—á–∞–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ —Å–∏—Å—Ç–µ–º–Ω–æ" %}
			</p>
			
			<div class="hero-stats-revolutionary animate-fade-in delay-3">
				<div class="stat-card-revolutionary">
					<span class="stat-number-revolutionary">{{ active_series|default:"20+" }}</span>
					<span class="stat-label-revolutionary">{% trans "–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–∏–π" %}</span>
				</div>
				<div class="stat-card-revolutionary">
					<span class="stat-number-revolutionary">{{ total_articles|default:"200+" }}</span>
					<span class="stat-label-revolutionary">{% trans "–°—Ç–∞—Ç–µ–π" %}</span>
				</div>
				<div class="stat-card-revolutionary">
					<span class="stat-number-revolutionary">{{ expert_authors|default:"25+" }}</span>
					<span class="stat-label-revolutionary">{% trans "–≠–∫—Å–ø–µ—Ä—Ç–æ–≤" %}</span>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- All Series Section -->
<section class="courses-revolutionary">
	<div class="container">
		<div class="section-header-revolutionary">
			<div class="section-badge animate-fade-in">
				<span>üìñ</span>
				<span>{% trans "–í—Å–µ —Å–µ—Ä–∏–∏" %}</span>
			</div>
			<h2 class="section-title-revolutionary animate-fade-in delay-1">
				{% trans "–û–±—É—á–∞—é—â–∏–µ —Å–µ—Ä–∏–∏ —Å—Ç–∞—Ç–µ–π" %}
			</h2>
			<p class="section-subtitle-revolutionary animate-fade-in delay-2">
				{% trans "–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–∏—é –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è" %}
			</p>
		</div>
		
		{% if series_list %}
		<div class="courses-grid-revolutionary">
			{% for series in series_list %}
			{% if series.slug %}
			<a href="{% url 'blog:series_detail' series.slug %}" class="course-card-revolutionary animate-fade-in delay-{{ forloop.counter }}" class="link-plain">
				<div class="course-image-revolutionary">
					{% if series.cover_image %}
						<img src="{{ series.cover_image.url }}" alt="{{ series.title }}" class="img-cover" loading="lazy">
					{% else %}
						<div class="series-placeholder">
							üìö
						</div>
					{% endif %}
					<div class="course-badge-revolutionary">üìö {% trans "–°–µ—Ä–∏—è" %}</div>
				</div>
				<div class="course-content-revolutionary">
					<h3 class="course-title-revolutionary">{{ series.title }}</h3>
					<p class="course-description-revolutionary">{{ series.description|truncatewords:18 }}</p>
					
					<!-- Progress Bar -->
					{% if series.articles_count %}
					<div class="series-progress-bar">
						<div class="series-progress-fill" style="width: {{ series.completion_percentage|default:0 }}%;"></div>
					</div>
					<div class="series-meta-extended">
						<span>{{ series.articles_count|default:0 }} {% trans "—Å—Ç–∞—Ç–µ–π" %}</span>
						<span>{{ series.completion_percentage|default:0 }}% {% trans "–∑–∞–≤–µ—Ä—à–µ–Ω–æ" %}</span>
					</div>
					{% endif %}
					
					<div class="course-meta-revolutionary" class="series-meta-spacing">
						<div class="course-duration-revolutionary">
							üë§ {{ series.author.username|default:_('PyLand') }}
						</div>
						<div class="course-lessons-revolutionary">
							üìÖ {{ series.created_at|date:"d.m.Y" }}
						</div>
					</div>
				</div>
			</a>
			{% else %}
			<div class="course-card-revolutionary animate-fade-in delay-{{ forloop.counter }}" class="series-card-dimmed">
				<div class="course-image-revolutionary">
					{% if series.cover_image %}
						<img src="{{ series.cover_image.url }}" alt="{{ series.title }}" class="img-cover" loading="lazy">
					{% else %}
						<div class="series-placeholder">
							üìö
						</div>
					{% endif %}
					<div class="course-badge-revolutionary">üîí {% trans "–°–∫–æ—Ä–æ" %}</div>
				</div>
				<div class="course-content-revolutionary">
					<h3 class="course-title-revolutionary">{{ series.title }}</h3>
					<p class="course-description-revolutionary">{{ series.description|truncatewords:18 }}</p>
					<div class="course-meta-revolutionary" class="series-meta-spacing">
						<div class="course-duration-revolutionary">
							üë§ {{ series.author.username|default:_('PyLand') }}
						</div>
						<div class="course-lessons-revolutionary">
							üìÖ {{ series.created_at|date:"d.m.Y" }}
						</div>
					</div>
				</div>
			</div>
			{% endif %}
			{% endfor %}
		</div>
		{% else %}
		<div class="empty-state-revolutionary">
			<div class="empty-icon">üìö</div>
			<h3>{% trans "–°–µ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã" %}</h3>
			<p>{% trans "–°–µ—Ä–∏–∏ —Å—Ç–∞—Ç–µ–π –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã" %}</p>
		</div>
		{% endif %}
		
		<!-- Pagination -->
		{% if page_obj.has_other_pages %}
		<div class="pagination-revolutionary animate-fade-in delay-5">
			{% if page_obj.has_previous %}
				<a href="?page=1" class="pagination-btn pagination-first">
					<span>‚èÆÔ∏è</span>
					<span class="btn-text">{% trans "–ü–µ—Ä–≤–∞—è" %}</span>
				</a>
				<a href="?page={{ page_obj.previous_page_number }}" class="pagination-btn pagination-prev">
					<span>‚óÄÔ∏è</span>
					<span class="btn-text">{% trans "–ü—Ä–µ–¥—ã–¥—É—â–∞—è" %}</span>
				</a>
			{% endif %}
			
			<!-- Page Numbers -->
			<div class="pagination-numbers">
				{% for num in page_obj.paginator.page_range %}
					{% if page_obj.number == num %}
						<span class="pagination-btn pagination-current">{{ num }}</span>
					{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
						<a href="?page={{ num }}" class="pagination-btn">{{ num }}</a>
					{% elif num == 1 or num == page_obj.paginator.num_pages %}
						<a href="?page={{ num }}" class="pagination-btn">{{ num }}</a>
					{% elif num == page_obj.number|add:'-3' or num == page_obj.number|add:'3' %}
						<span class="pagination-dots">...</span>
					{% endif %}
				{% endfor %}
			</div>
			
			{% if page_obj.has_next %}
				<a href="?page={{ page_obj.next_page_number }}" class="pagination-btn pagination-next">
					<span class="btn-text">{% trans "–°–ª–µ–¥—É—é—â–∞—è" %}</span>
					<span>‚ñ∂Ô∏è</span>
				</a>
				<a href="?page={{ page_obj.paginator.num_pages }}" class="pagination-btn pagination-last">
					<span class="btn-text">{% trans "–ü–æ—Å–ª–µ–¥–Ω—è—è" %}</span>
					<span>‚è≠Ô∏è</span>
				</a>
			{% endif %}
		</div>
		{% endif %}
	</div>
</section>

{% endblock %}
