{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "–ê–≤—Ç–æ—Ä—ã" %} - PyLand{% endblock %}
{% block description %}{% trans "–ó–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –∞–≤—Ç–æ—Ä–∞–º–∏ –±–ª–æ–≥–∞ PyLand ‚Äî —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏, —Å–æ–∑–¥–∞—é—â–∏–º–∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã." %}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/courses/courses.css' %}">

<link rel="stylesheet" href="{% static 'css/blog/utils.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="revolutionary-hero-home">
	<div class="hero-particles">
		<div class="particle particle-1"></div>
		<div class="particle particle-2"></div>
		<div class="particle particle-3"></div>
		<div class="particle particle-4"></div>
		<div class="particle particle-5"></div>
	</div>
	
	<div class="container">
		<div class="hero-main-content">
			<div class="hero-badge-revolutionary animate-fade-in">
				<span>‚úçÔ∏è</span>
				<span>{% trans "–ê–≤—Ç–æ—Ä—ã –±–ª–æ–≥–∞" %}</span>
			</div>

			<h1 class="hero-title-revolutionary animate-fade-in delay-1">
				{% trans "–ù–∞—à–∏ –∞–≤—Ç–æ—Ä—ã –∏ —ç–∫—Å–ø–µ—Ä—Ç—ã" %}
			</h1>
			
			<p class="hero-subtitle-revolutionary animate-fade-in delay-2">
				{% trans "–ü–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –ª—é–¥—å–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–∏—à—É—Ç —Å—Ç–∞—Ç—å–∏, —Å–æ–∑–¥–∞—é—Ç –∫—É—Ä—Å—ã –∏ –¥–µ–ª—è—Ç—Å—è –æ–ø—ã—Ç–æ–º –≤ –º–∏—Ä–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π" %}
			</p>

		<div class="hero-stats-revolutionary animate-fade-in delay-3">
			<div class="stat-card-revolutionary">
				<span class="stat-number-revolutionary">{{ stats.total_authors|default:'0' }}</span>
				<span class="stat-label-revolutionary">{% trans "–ê–≤—Ç–æ—Ä–æ–≤" %}</span>
			</div>
			<div class="stat-card-revolutionary">
				<span class="stat-number-revolutionary">{{ stats.total_articles|default:'0' }}</span>
				<span class="stat-label-revolutionary">{% trans "–°—Ç–∞—Ç–µ–π" %}</span>
			</div>
			<div class="stat-card-revolutionary">
				<span class="stat-number-revolutionary">{{ stats.total_views|default:'0' }}</span>
				<span class="stat-label-revolutionary">{% trans "–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤" %}</span>
			</div>
			<div class="stat-card-revolutionary">
				<span class="stat-number-revolutionary">{{ stats.total_reactions|default:'0' }}</span>
				<span class="stat-label-revolutionary">{% trans "–†–µ–∞–∫—Ü–∏–π" %}</span>
			</div>
		</div>
		</div>
	</div>
</section>

<!-- Featured Authors Section -->
{% if featured_authors %}
<section class="courses-revolutionary" class="section-pad-60">
	<div class="container">
		<div class="section-header-revolutionary">
			<div class="section-badge animate-fade-in">
				<span>‚≠ê</span>
				<span>{% trans "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ" %}</span>
			</div>
			<h2 class="section-title-revolutionary animate-fade-in delay-1">
				{% trans "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–≤—Ç–æ—Ä—ã" %}
			</h2>
			<p class="section-subtitle-revolutionary animate-fade-in delay-2">
				{% trans "–≠–∫—Å–ø–µ—Ä—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—É–±–ª–∏–∫—É—é—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã" %}
			</p>
		</div>

		<div class="courses-grid-revolutionary">
			{% for author in featured_authors %}
			<a href="{% url 'blog:author_detail' author.slug %}" class="course-card-revolutionary animate-fade-in delay-{{ forloop.counter }}" style="text-decoration: none; color: inherit;">
				<div class="course-image-revolutionary">
					{% if author.avatar_url %}
						<img src="{{ author.avatar_url }}" alt="{{ author.display_name }}" style="width: 100%; height: 100%; max-width: 100%; max-height: 100%; object-fit: contain; object-position: center;">
					{% else %}
						<div class="author-placeholder">üë§</div>
					{% endif %}
					<div class="course-badge-revolutionary">‚≠ê {% trans "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º" %}</div>
				</div>
				<div class="course-content-revolutionary">
					<h3 class="course-title-revolutionary">{{ author.display_name }}</h3>
					<p class="course-description-revolutionary">{{ author.bio|default:_('–≠–∫—Å–ø–µ—Ä—Ç –∏ –∞–≤—Ç–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ PyLand')|truncatewords:18 }}</p>
					<div class="course-meta-revolutionary">
						<div class="course-duration-revolutionary">üìö {{ author.articles_count|default:'0' }} {% trans "—Å—Ç–∞—Ç–µ–π" %}</div>
						<div class="course-lessons-revolutionary">üë• {{ author.followers_count_annotated|default:author.followers_count|default:'0' }}</div>
					</div>
				</div>
			</a>
			{% endfor %}
		</div>
	</div>
</section>
{% endif %}

<!-- All Authors Section -->
<section class="courses-revolutionary">
	<div class="container">
		<div class="section-header-revolutionary">
			<div class="section-badge animate-fade-in">
				<span>üë•</span>
				<span>{% trans "–í—Å–µ –∞–≤—Ç–æ—Ä—ã" %}</span>
			</div>
			<h2 class="section-title-revolutionary animate-fade-in delay-1">
				{% trans "–í—Å–µ –Ω–∞—à–∏ –∞–≤—Ç–æ—Ä—ã" %}
			</h2>
			<p class="section-subtitle-revolutionary animate-fade-in delay-2">
				{% trans "–ù–∞–π–¥–∏—Ç–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–º –≤–∞—Å —Ç–µ–º–∞–º" %}
			</p>
		</div>

		{% if authors %}
		<div class="courses-grid-revolutionary">
			{% for author in authors %}
			<a href="{% url 'blog:author_detail' author.slug %}" class="course-card-revolutionary animate-fade-in delay-{{ forloop.counter|add:1 }}" style="text-decoration: none; color: inherit;">
				<div class="course-image-revolutionary">
					{% if author.avatar_url %}
						<img src="{{ author.avatar_url }}" alt="{{ author.display_name }}" style="width: 100%; height: 100%; max-width: 100%; max-height: 100%; object-fit: contain; object-position: center;">
					{% else %}
						<div class="series-placeholder">üë§</div>
					{% endif %}
					<div class="course-badge-revolutionary">{% trans "–ê–≤—Ç–æ—Ä" %}</div>
				</div>
				<div class="course-content-revolutionary">
					<h3 class="course-title-revolutionary">{{ author.display_name }}</h3>
					<p class="course-description-revolutionary">{{ author.bio|default:_('–ê–≤—Ç–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ PyLand')|truncatewords:18 }}</p>
					<div class="course-meta-revolutionary">
						<div class="course-duration-revolutionary">üìö {{ author.articles_count|default:'0' }} {% trans "—Å—Ç–∞—Ç–µ–π" %}</div>
						<div class="course-lessons-revolutionary">
							üìÖ {% if author.last_published %}{{ author.last_published|date:"d.m.Y" }}{% elif author.last_published_at %}{{ author.last_published_at|date:"d.m.Y" }}{% else %}‚Äî{% endif %}
						</div>
					</div>
				</div>
			</a>
			{% endfor %}
		</div>

		<!-- Pagination -->
		{% if authors.has_other_pages %}
		<div class="pagination-revolutionary animate-fade-in delay-5">
			{% if authors.has_previous %}
				<a href="?page=1" class="pagination-btn pagination-first">
					<span>‚èÆÔ∏è</span>
					<span class="btn-text">{% trans "–ü–µ—Ä–≤–∞—è" %}</span>
				</a>
				<a href="?page={{ authors.previous_page_number }}" class="pagination-btn pagination-prev">
					<span>‚óÄÔ∏è</span>
					<span class="btn-text">{% trans "–ü—Ä–µ–¥—ã–¥—É—â–∞—è" %}</span>
				</a>
			{% endif %}
			
			<!-- Page Numbers -->
			<div class="pagination-numbers">
				{% for num in authors.paginator.page_range %}
					{% if authors.number == num %}
						<span class="pagination-btn pagination-current">{{ num }}</span>
					{% elif num > authors.number|add:'-3' and num < authors.number|add:'3' %}
						<a href="?page={{ num }}" class="pagination-btn">{{ num }}</a>
					{% elif num == 1 or num == authors.paginator.num_pages %}
						<a href="?page={{ num }}" class="pagination-btn">{{ num }}</a>
					{% elif num == authors.number|add:'-3' or num == authors.number|add:'3' %}
						<span class="pagination-dots">...</span>
					{% endif %}
				{% endfor %}
			</div>
			
			{% if authors.has_next %}
				<a href="?page={{ authors.next_page_number }}" class="pagination-btn pagination-next">
					<span class="btn-text">{% trans "–°–ª–µ–¥—É—é—â–∞—è" %}</span>
					<span>‚ñ∂Ô∏è</span>
				</a>
				<a href="?page={{ authors.paginator.num_pages }}" class="pagination-btn pagination-last">
					<span class="btn-text">{% trans "–ü–æ—Å–ª–µ–¥–Ω—è—è" %}</span>
					<span>‚è≠Ô∏è</span>
				</a>
			{% endif %}
		</div>
		{% endif %}
		{% else %}
		<div class="empty-state-revolutionary">
			<div class="empty-icon">üë•</div>
			<h3>{% trans "–ê–≤—Ç–æ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã" %}</h3>
			<p>{% trans "–°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤ –ø–æ–∫–∞ –ø—É—Å—Ç" %}</p>
		</div>
		{% endif %}
	</div>
</section>

{% endblock %}

