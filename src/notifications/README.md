# Notifications Application

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Pyland School.

## –û–ø–∏—Å–∞–Ω–∏–µ

Notifications –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–∞–Ω–∞–ª—ã: Email, SMS, Telegram.

## –ú–æ–¥–µ–ª–∏

### Subscription
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –¥–ª—è –≤—Å–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
- **email** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π email –∞–¥—Ä–µ—Å (–≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º –ø–æ–¥–ø–∏—Å–∫–∏)
- **subscription_type** - —Ç–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏ (–≤—ã–±–æ—Ä –∏–∑ SUBSCRIPTION_TYPE_CHOICES)
- **name** - –∏–º—è –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **is_active** - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
- **preferences** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (JSON)
- **created_at** - –¥–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- **updated_at** - –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### –¢–∏–ø—ã –ø–æ–¥–ø–∏—Å–æ–∫ (subscription_type)

–¢–∏–ø—ã –ø–æ–¥–ø–∏—Å–æ–∫ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç** –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –º–æ–¥–µ–ª–∏ Student:

1. **email_notifications** (üìß) - –í—Å–µ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ë–∞–∑–æ–≤—ã–π —Ç–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏

2. **course_updates** (üìö) - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤
   - –ù–æ–≤—ã–µ —É—Ä–æ–∫–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∫—É—Ä—Å–∞

3. **lesson_reminders** (‚è∞) - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —É—Ä–æ–∫–∞—Ö
   - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö
   - –î–µ–¥–ª–∞–π–Ω—ã –∏ –≤–∞–∂–Ω—ã–µ –¥–∞—Ç—ã

4. **achievement_alerts** (üèÜ) - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
   - –ü—Ä–æ–≥—Ä–µ—Å—Å –≤ –æ–±—É—á–µ–Ω–∏–∏

5. **weekly_summary** (üìä) - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞ –Ω–µ–¥–µ–ª—é
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±—É—á–µ–Ω–∏—é

6. **marketing_emails** (üéÅ) - –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –ø–∏—Å—å–º–∞
   - –ê–∫—Ü–∏–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
   - –ù–æ–≤–æ—Å—Ç–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω–æ

#### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–æ–∫

**–í–∞–∂–Ω–æ:** –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ** –≤ –º–æ–¥–µ–ª–∏ `Subscription`.
–ù–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö (blog, courses –∏ —Ç.–¥.).

#### –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å

–ö–æ–º–±–∏–Ω–∞—Ü–∏—è `(email, subscription_type)` —É–Ω–∏–∫–∞–ª—å–Ω–∞ - –æ–¥–∏–Ω email –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–¥–ø–∏—Å–æ–∫.

### –ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ Subscription

#### subscribe()
```python
subscription, created = Subscription.subscribe(
    email='user@example.com',
    subscription_type='email_notifications',
    name='John Doe',  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    preferences={'source': 'blog'}  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
)
```

#### unsubscribe()
```python
Subscription.unsubscribe(
    email='user@example.com',
    subscription_type='email_notifications'
)
```

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏

#### NotificationSettings
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- **user** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **email_enabled** - –≤–∫–ª—é—á–µ–Ω—ã –ª–∏ email
- **sms_enabled** - –≤–∫–ª—é—á–µ–Ω—ã –ª–∏ SMS
- **telegram_enabled** - –≤–∫–ª—é—á–µ–Ω –ª–∏ Telegram
- **notification_types** - —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (JSON)

#### NotificationLog
–ñ—É—Ä–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
- **user** - –ø–æ–ª—É—á–∞—Ç–µ–ª—å
- **notification_type** - —Ç–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **channel** - –∫–∞–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–∫–∏
- **status** - —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- **sent_at** - –¥–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
- **delivered_at** - –¥–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏

## –ö–∞–Ω–∞–ª—ã –æ—Ç–ø—Ä–∞–≤–∫–∏

### 1. Email (–æ—Å–Ω–æ–≤–Ω–æ–π)
```python
from django.core.mail import send_mail

send_mail(
    subject='–¢–µ–º–∞',
    message='–¢–µ–∫—Å—Ç',
    from_email='noreply@pyland.school',
    recipient_list=['user@example.com'],
)
```

### 2. SMS (—á–µ—Ä–µ–∑ Twilio)
```python
from twilio.rest import Client

client = Client(account_sid, auth_token)
message = client.messages.create(
    body="–¢–µ–∫—Å—Ç SMS",
    from_='+1234567890',
    to='+9876543210'
)
```

### 3. Telegram Bot
```python
import telegram

bot = telegram.Bot(token=TELEGRAM_BOT_TOKEN)
bot.send_message(
    chat_id=user.telegram_chat_id,
    text="–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è"
)
```

## –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- `course_updates` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–∞
- `lesson_reminders` - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± —É—Ä–æ–∫–∞—Ö
- `submission_reviewed` - —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- `achievement_unlocked` - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ
- `certificate_issued` - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≥–æ—Ç–æ–≤

### –î–ª—è —Ä–µ–≤—å—é–µ—Ä–æ–≤
- `new_submission` - –Ω–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
- `submission_resubmitted` - –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞

### –î–ª—è –≤—Å–µ—Ö
- `weekly_summary` - –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞
- `system_announcements` - –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- `password_reset` - —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
- `email_verification` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email

## Celery –∑–∞–¥–∞—á–∏

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
```python
from celery import shared_task

@shared_task(bind=True, max_retries=3)
def send_email_notification(self, user_id, notification_type, data):
    try:
        user = User.objects.get(id=user_id)
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        if not user.notification_settings.email_enabled:
            return
        # –û—Ç–ø—Ä–∞–≤–∫–∞
        send_mail(...)
    except Exception as exc:
        raise self.retry(exc=exc, countdown=60)
```

### –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
```python
@periodic_task(run_every=crontab(hour=9, minute=0))
def send_daily_reminders():
    """–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ 9:00"""
    ...

@periodic_task(run_every=crontab(day_of_week=1, hour=10))
def send_weekly_summary():
    """–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º –≤ 10:00"""
    ...
```

## API Endpoints (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏
```
GET    /api/notifications/settings          - –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PATCH  /api/notifications/settings          - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

### –ü–æ–¥–ø–∏—Å–∫–∞
```
POST   /api/notifications/subscribe         - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è
POST   /api/notifications/unsubscribe       - –û—Ç–ø–∏—Å–∞—Ç—å—Å—è
```

### –ò—Å—Ç–æ—Ä–∏—è
```
GET    /api/notifications/history           - –ò—Å—Ç–æ—Ä–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
POST   /api/notifications/{id}/mark-read    - –û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º
```

### Telegram
```
POST   /api/notifications/telegram/connect  - –ü–æ–¥–∫–ª—é—á–∏—Ç—å Telegram
POST   /api/notifications/telegram/disconnect - –û—Ç–∫–ª—é—á–∏—Ç—å
```

## Views

### subscribe_view
–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ email —Ä–∞—Å—Å—ã–ª–∫—É:
- –í–∞–ª–∏–¥–∞—Ü–∏—è email
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- Flash message –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

## –®–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```
templates/emails/
‚îú‚îÄ‚îÄ base.html                  # –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
‚îú‚îÄ‚îÄ course_update.html         # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞
‚îú‚îÄ‚îÄ submission_reviewed.html   # –†–∞–±–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
‚îú‚îÄ‚îÄ certificate_issued.html    # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≥–æ—Ç–æ–≤
‚îî‚îÄ‚îÄ weekly_summary.html        # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞
```

### –ü—Ä–∏–º–µ—Ä
```html
{% extends 'emails/base.html' %}
{% block content %}
<h2>–í–∞—à–∞ —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞!</h2>
<p>–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {{ student.first_name }}!</p>
<p>–í–∞—à–∞ —Ä–∞–±–æ—Ç–∞ –ø–æ —É—Ä–æ–∫—É "{{ lesson.name }}" –±—ã–ª–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞.</p>
<p>–°—Ç–∞—Ç—É—Å: <strong>{{ submission.status }}</strong></p>
<a href="{{ submission_url }}">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è</a>
{% endblock %}
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ
–í –ø—Ä–æ—Ñ–∏–ª–µ —Å—Ç—É–¥–µ–Ω—Ç–∞:
- ‚úÖ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚¨ú Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –í—ã–±–æ—Ä —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ
–í admin –ø–∞–Ω–µ–ª–∏:
- –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤
- –õ–∏–º–∏—Ç—ã –æ—Ç–ø—Ä–∞–≤–∫–∏
- –®–∞–±–ª–æ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

### Rate limiting
```python
from django.core.cache import cache

def check_notification_limit(user_id, notification_type):
    key = f"notification:{user_id}:{notification_type}"
    count = cache.get(key, 0)
    if count >= 10:  # –ú–∞–∫—Å–∏–º—É–º 10 –≤ —á–∞—Å
        return False
    cache.set(key, count + 1, 3600)
    return True
```

### Unsubscribe link
–ö–∞–∂–¥–æ–µ –ø–∏—Å—å–º–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –æ—Ç–ø–∏—Å–∫–∏:
```python
unsubscribe_url = f"{settings.SITE_URL}/notifications/unsubscribe/{token}"
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ü—Ä–æ—Ü–µ–Ω—Ç –¥–æ—Å—Ç–∞–≤–∫–∏
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∫—Ä—ã—Ç–∏–π (email)
- –ü—Ä–æ—Ü–µ–Ω—Ç –∫–ª–∏–∫–æ–≤
- –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```python
import logging
logger = logging.getLogger('notifications')

logger.info(f"Email sent to {user.email}: {notification_type}")
logger.error(f"Failed to send SMS to {user.phone}: {error}")
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏

### SendGrid (Email)
```python
SENDGRID_API_KEY = env('SENDGRID_API_KEY')
EMAIL_BACKEND = 'sendgrid_backend.SendgridBackend'
```

### Twilio (SMS)
```python
TWILIO_ACCOUNT_SID = env('TWILIO_ACCOUNT_SID')
TWILIO_AUTH_TOKEN = env('TWILIO_AUTH_TOKEN')
TWILIO_PHONE_NUMBER = env('TWILIO_PHONE_NUMBER')
```

### Telegram Bot
```python
TELEGRAM_BOT_TOKEN = env('TELEGRAM_BOT_TOKEN')
TELEGRAM_WEBHOOK_URL = f"{SITE_URL}/api/notifications/telegram/webhook"
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- **authentication** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
- **courses** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤
- **students** - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± —É—Ä–æ–∫–∞—Ö
- **reviewers** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞–±–æ—Ç–∞—Ö
- **certificates** - –≤—ã–¥–∞—á–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Mock –æ—Ç–ø—Ä–∞–≤–∫–∞
```python
from django.core import mail

def test_send_email():
    # –û—Ç–ø—Ä–∞–≤–∫–∞
    send_notification(user, 'test')
    # –ü—Ä–æ–≤–µ—Ä–∫–∞
    assert len(mail.outbox) == 1
    assert mail.outbox[0].subject == 'Test'
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
pytest notifications/tests/ -v
```

## –ê–≤—Ç–æ—Ä—ã

Pyland Team, 2025
