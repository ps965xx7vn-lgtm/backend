{% extends 'base.html' %}
{% load i18n static %}

{% block title %}{% trans "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞" %} - Pyland{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/courses/courses.css' %}">
<link rel="stylesheet" href="{% static 'css/certificates/verify-form.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section (–∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–ª–∞—Å—Å—ã –∏–∑ blog/home) -->
<section class="revolutionary-hero-home">
    <div class="hero-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <div class="container">
        <div class="hero-main-content">
            <div class="hero-badge-revolutionary animate-fade-in">
                <span>üîç</span>
                <span>{% trans "–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞" %}</span>
            </div>

            <h1 class="hero-title-revolutionary animate-fade-in delay-1">
                {% trans "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞" %}
            </h1>

            <p class="hero-subtitle-revolutionary animate-fade-in delay-2">
                {% trans "–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ PyLand. –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –Ω–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏." %}
            </p>
        </div>
    </div>
</section>

<!-- Verification Form Section -->
<section class="verify-content-section">
    <div class="verify-form-container">
        <div class="verify-form-card">
            <h2 class="verify-form-title">
                {% trans "–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏" %}
            </h2>

            <form method="post" class="verify-form">
                {% csrf_token %}
                <div class="verify-form-group">
                    <label for="verification_code" class="verify-form-label">
                        {% trans "–ö–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –Ω–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞" %}
                    </label>
                    <input
                        type="text"
                        id="verification_code"
                        name="verification_code"
                        class="verify-form-input"
                        placeholder="{% trans '–ù–∞–ø—Ä–∏–º–µ—Ä: 30B432450602 –∏–ª–∏ CERT-20260203-A3F9' %}"
                        value="{{ request.GET.code|default:'' }}"
                        required
                        maxlength="50"
                    >
                </div>

                <button type="submit" class="verify-btn-submit">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    {% trans "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç" %}
                </button>
            </form>
        </div>

        {% if certificate %}
            {% if is_valid %}
            <!-- Valid Certificate Result -->
            <div class="verify-result-box verify-result-valid">
                <div class="verify-result-icon">‚úì</div>
                <h3 class="verify-result-title">
                    {% trans "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω" %}
                </h3>

                <div class="verify-cert-info">
                    <div class="verify-info-row">
                        <span class="verify-info-label">üìú {% trans "–ù–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞" %}:</span>
                        <span class="verify-info-value">{{ certificate.certificate_number }}</span>
                    </div>
                    <div class="verify-info-row">
                        <span class="verify-info-label">üë§ {% trans "–°—Ç—É–¥–µ–Ω—Ç" %}:</span>
                        <span class="verify-info-value">
                            {{ certificate.student.user.get_full_name|default:certificate.student.user.email }}
                        </span>
                    </div>
                    <div class="verify-info-row">
                        <span class="verify-info-label">üìö {% trans "–ö—É—Ä—Å" %}:</span>
                        <span class="verify-info-value">{{ certificate.course.name }}</span>
                    </div>
                    <div class="verify-info-row">
                        <span class="verify-info-label">üìÖ {% trans "–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è" %}:</span>
                        <span class="verify-info-value">{{ certificate.completion_date|date:"d F Y –≥." }}</span>
                    </div>
                    <div class="verify-info-row">
                        <span class="verify-info-label">üìÖ {% trans "–î–∞—Ç–∞ –≤—ã–¥–∞—á–∏" %}:</span>
                        <span class="verify-info-value">{{ certificate.issued_at|date:"d F Y –≥." }}</span>
                    </div>
                    <div class="verify-info-row">
                        <span class="verify-info-label">üîê {% trans "–ö–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏" %}:</span>
                        <span class="verify-info-value verify-info-value-code">
                            {{ certificate.verification_code }}
                        </span>
                    </div>
                </div>

                <div class="verify-result-actions">
                    <a href="{{ certificate.get_public_url }}" class="verify-btn-view">
                        <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                        </svg>
                        {% trans "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é" %}
                    </a>
                </div>

                <p class="verify-result-message">
                    ‚úì {% trans "–≠—Ç–æ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±—ã–ª –≤—ã–¥–∞–Ω –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π PyLand –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫—É—Ä—Å–∞." %}
                </p>
            </div>
            {% else %}
            <!-- Revoked Certificate Result -->
            <div class="verify-result-box verify-result-invalid">
                <div class="verify-result-icon">‚ö†Ô∏è</div>
                <h3 class="verify-result-title">
                    {% trans "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç–æ–∑–≤–∞–Ω" %}
                </h3>

                <div class="verify-cert-info">
                    <div class="verify-info-row">
                        <span class="verify-info-label">üìú {% trans "–ù–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞" %}:</span>
                        <span class="verify-info-value">{{ certificate.certificate_number }}</span>
                    </div>
                    {% if certificate.revoked_at %}
                    <div class="verify-info-row">
                        <span class="verify-info-label">üìÖ {% trans "–î–∞—Ç–∞ –æ—Ç–∑—ã–≤–∞" %}:</span>
                        <span class="verify-info-value">{{ certificate.revoked_at|date:"d F Y –≥." }}</span>
                    </div>
                    {% endif %}
                    {% if certificate.revoke_reason %}
                    <div class="verify-info-row">
                        <span class="verify-info-label">‚ö†Ô∏è {% trans "–ü—Ä–∏—á–∏–Ω–∞" %}:</span>
                        <span class="verify-info-value">{{ certificate.revoke_reason }}</span>
                    </div>
                    {% endif %}
                </div>

                <p class="verify-result-message">
                    {% trans "–≠—Ç–æ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –±—ã–ª –æ—Ç–æ–∑–≤–∞–Ω –∏ –±–æ–ª–µ–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º." %}
                </p>
            </div>
            {% endif %}
        {% elif not_found %}
            <!-- Certificate Not Found -->
            <div class="verify-result-box verify-result-invalid">
                <div class="verify-result-icon">‚ùå</div>
                <h3 class="verify-result-title">
                    {% trans "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω" %}
                </h3>
                <p class="verify-result-message">
                    {% trans "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º –∏–ª–∏ –Ω–æ–º–µ—Ä–æ–º –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –Ω–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö." %}
                </p>
            </div>
        {% endif %}

        <!-- Info Section -->
        <div class="verify-info-section">
            <h3 class="verify-info-title">
                üí° {% trans "–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?" %}
            </h3>
            <div class="verify-info-text">
                <p>{% trans "–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è:" %}</p>
                <ul class="verify-info-list">
                    <li>
                        <strong>{% trans "–ö–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏" %}</strong>
                        {% trans "(12 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä: 30B432450602)" %}
                    </li>
                    <li>
                        <strong>{% trans "–ù–æ–º–µ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞" %}</strong>
                        {% trans "(–Ω–∞–ø—Ä–∏–º–µ—Ä: CERT-20260203-A3F9)" %}
                    </li>
                </ul>
                <p style="margin-top: 20px;">
                    {% trans "–û–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω—ã –≤ –≤—ã–¥–∞–Ω–Ω–æ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞." %}
                </p>
            </div>
        </div>
    </div>
</section>
{% endblock %}
